TITLE HEX TO BCD
.MODEL SMALL
.DATA
    HEX DW 1234H
    BCD DB 5 DUP(?)
.STACK 64
.CODE
CONVERTINATOR PROC
    MOV AL,[DI+1]
    MOV CL,4
    SHL AL,CL
    ADD AL,[DI+2]
    RET
CONVERTINATOR ENDP
CONVERT PROC   
    MOV CX,0AH
    DIV CX
    RET
CONVERT ENDP
START:
    MOV AX,@DATA
    MOV DS,AX

    LEA DI,BCD+4
    MOV AX,HEX
    MOV CX,5
    
    BACK:
        PUSH CX
        CALL CONVERT
        POP CX
        MOV [DI],DL
        MOV DX,0
        DEC DI
    LOOP BACK
    INC DI
    CALL CONVERTINATOR
    MOV [DI+1],AL
    ADD DI,2
    CALL CONVERTINATOR
    MOV [DI],AL
    MOV BYTE PTR [DI+1],0
    MOV BYTE PTR [DI+2],0
    MOV AH,4CH
    INT 21H
END START
ENDS